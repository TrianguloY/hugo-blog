<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
   Â· johndoe
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="amt8u">
<meta name="description" content="ExcerptLink to headingLets learn about authentication in depth. At least the depth that I can cover.
NeedLink to headingIn one of my earlier posts, I covered the difference between authentication and authrorization. In this one, I will dig deep into authentication.
IntroLink to headingThe Illusion of sessionLink to headingOnce you login into an application using your username and password, any page/link that you were not able to access now becomes accessible.">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"><meta name="twitter:title" content="">
<meta name="twitter:description" content="ExcerptLink to headingLets learn about authentication in depth. At least the depth that I can cover.
NeedLink to headingIn one of my earlier posts, I covered the difference between authentication and authrorization. In this one, I will dig deep into authentication.
IntroLink to headingThe Illusion of sessionLink to headingOnce you login into an application using your username and password, any page/link that you were not able to access now becomes accessible.">

<meta property="og:url" content="//localhost:1313/posts/how-passwords-are-sent/how-passwords-are-sent/">
  <meta property="og:site_name" content="johndoe">
  <meta property="og:title" content="johndoe">
  <meta property="og:description" content="ExcerptLink to headingLets learn about authentication in depth. At least the depth that I can cover.
NeedLink to headingIn one of my earlier posts, I covered the difference between authentication and authrorization. In this one, I will dig deep into authentication.
IntroLink to headingThe Illusion of sessionLink to headingOnce you login into an application using your username and password, any page/link that you were not able to access now becomes accessible.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">




<link rel="canonical" href="//localhost:1313/posts/how-passwords-are-sent/how-passwords-are-sent/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="//localhost:1313/">
      johndoe
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/amt8u/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact me</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/pt-br/">ðŸ‡§ðŸ‡·</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="//localhost:1313/posts/how-passwords-are-sent/how-passwords-are-sent/">
              
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="0001-01-01T00:00:00Z">
                January 1, 0001
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <h1 id="excerpt">
  Excerpt
  <a class="heading-link" href="#excerpt">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Lets learn about authentication in depth. At least the depth that I can cover.</p>
<h1 id="need">
  Need
  <a class="heading-link" href="#need">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>In one of my earlier posts, I covered  the difference between <a href="https://cybercafe.dev/authentication-vs-authorization/"  class="external-link" target="_blank" rel="noopener">authentication and authrorization</a>. In this one, I will dig <strong>deep</strong> into authentication.</p>
<h1 id="intro">
  Intro
  <a class="heading-link" href="#intro">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<h1 id="the-illusion-of-session">
  The Illusion of session
  <a class="heading-link" href="#the-illusion-of-session">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Once you login into an application using your username and password, any page/link that you were not able to access now becomes accessible. For most of the web, the underlying protocol is <code>HTTP</code> which is <code>stateless</code>. Which means that every request is independent and there is nothing in the connection that identifies who created the request.</p>
<p>So if you login on chrome and firefox with different accounts on the same computer, and you visit your settings page, you are actually requesting the exact same page.</p>
<p>For the server these are just same requests coming from same IP address and it cannot differentiate who initiated which request. But still somehow the correct page opens up in each browser.</p>
<p>The magic is <code>session-id</code>.</p>
<p>Every request that goes to the server contains a special value called session identifier which identifies who requested that page. Ther server compares it with its stored value and depending on that it returns the page. But then the question is where this value comes from.</p>
<p>Generally the value is just a simple string. Every request carries this and thus is the actual identifier.</p>
<p>The jist is that every request needs to be authenticated. There are two ways to achieve this</p>
<ul>
<li>Pass Credentials in every request</li>
<li>Pass a mutually agreed key in every request</li>
</ul>
<p>Passing credentials in every request is not a good idea. You will have to ask username/password on every page which obviously nobody will like.</p>
<p>So the web guys came up with a mechanism called <code>token</code>. On the first request which has your username and password, the server generates a fresh random string and sends back to the browser. The browser then stores that string into its memory. For each subsequent request to the same domain(that is important!), the browser sends the stored <code>token</code> everytime. And yes everytime is again very important.</p>
<p>In simpler terms, each page request(or api call if you work in SPA) needs its own authentication which is kind of overhead but thats how the protocol works.</p>
<blockquote>
<p>Thats how the users see it as session while in the background there is no such session.</p>
</blockquote>
<h1 id="session-id">
  Session Id
  <a class="heading-link" href="#session-id">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Mostly, the id we discussed in the above section is just a random unique value and nothing else. Unique only for the time its associated with your profile. Once it expires, it could repeat with other user&rsquo;s profile value. But of course, at that time you won&rsquo;t have the previous values with you. On every login, the server creates it and keeps a copy of
it for validating future requests. The copy is maintained for a predefined period of time as per the server&rsquo;s policies. And that&rsquo;s why your session expires if you do not do any activity for sometime.</p>
<p>So if, somebody, somehow manages to get your <code>token</code>, he/she/they can recreate your session in their computer. Without knowing the username/password the attacker is able to access your data. This technique is called <a href="https://en.wikipedia.org/wiki/Session_hijacking"  class="external-link" target="_blank" rel="noopener">session hijacking</a> and can easily be done if you are not connected via SSL connection. Anybody who can intercept your http request will be able to see your session id. How <code>SSL</code> prevents your request from being read by interceptor is a separate topic of discussion.</p>
<blockquote>
<p>Take your sessionId as seriously as you take your password.</p>
</blockquote>
<h1 id="http-authentication">
  HTTP authentication
  <a class="heading-link" href="#http-authentication">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>The HTTP protocol defines how each request should be <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication#authentication_schemes"  class="external-link" target="_blank" rel="noopener">verified or authenticated</a>. But again its upto the server(the guys who create the platform) to implement how do they want to authenticate each request.</p>
<p>You will find many schemes listed in the page, but most common ones are <code>basic</code> and <code>bearer</code>. You can read about them on the MDN page. But in simpler terms</p>
<ul>
<li><strong>basic</strong> - provide credentials with every request</li>
<li><strong>bearer</strong> - provide a token with every request</li>
</ul>
<p>There is even an already defined <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/WWW-Authenticate"  class="external-link" target="_blank" rel="noopener">header</a> in http protocol which says what all schemes are supported.</p>
<p>But again, its upto the server to manage how the authentication is done. Big companies like facebook, netflix will have many layers of protection to avoid authentication breaches.</p>
<h1 id="encrypting-password-before-sending">
  Encrypting password before sending
  <a class="heading-link" href="#encrypting-password-before-sending">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>I recently observed that a few sites encrypt the user password before sending it to the server even if you are on a SSL connection. Of course not everybody is doing that. The question is why do you need to encrypt your password if you are already on <code>https</code> connection which means that every request is always encrypted.</p>
<p>I am not sure about this and there seems to be very <a href="https://duckduckgo.com/?q=encrypt&#43;password&#43;before&#43;sending&#43;to&#43;server&amp;t=brave&amp;ia=web"  class="external-link" target="_blank" rel="noopener">less information</a> about it available online. There are few <a href="https://security.stackexchange.com/questions/133453/is-encryption-of-passwords-needed-for-an-https-website"  class="external-link" target="_blank" rel="noopener">outdated debates</a> but I didn&rsquo;t find any strong evidence to</p>
<p>What I feel is that this helps in preventing credential theft from other techniques like installing malicious browser extentions. Sometimes people are also tricked into running javascript code which can inject functions in background and can intercept the login call even before its encrypted by the browser.</p>
<p>Thats why you see a big warning when you open <code>console</code> on facebook.com.
<img alt="facebook-console-warning" src="./images/how-passwords-are-sent/facebook_console.png"></p>
<p>The attackers are not totally wrong! At least someone is getting hacked :-P</p>
<p>http header - MDN auth page <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization"  class="external-link" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization</a></p>
<p>authenticatin shemees - <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication#authentication_schemes"  class="external-link" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication#authentication_schemes</a></p>
<p>HOBA - <a href="https://datatracker.ietf.org/doc/html/rfc7486#section-1.1"  class="external-link" target="_blank" rel="noopener">https://datatracker.ietf.org/doc/html/rfc7486#section-1.1</a>
take screenshot of point no. 7 which session that eventually a session cookie will be set</p>
<p>bearer - simple way to say that i have a token and not credentials</p>
<p>SSO
OAuth</p>
<p>multi factor auth
Session Management
sessionsIds
JWT
any token
encrypted session-id
url encoding
base64 encoding
encrypting</p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    Â©
    
      2019 -
    
    2024
     amt8u 
    Â·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
