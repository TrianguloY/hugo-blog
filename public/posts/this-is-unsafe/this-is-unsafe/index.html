<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
   Â· johndoe
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="amt8u">
<meta name="description" content="ExcerptLink to headingthisisunsafe is a way to bypass security errors on chrome. In this article I will discuss about its usage and implications.
SSL WarningsLink to headingMajor browsers present you with a warning when you try to visit an insecure site. Even if the site is served with the secure url https://, the security depends on the certificate issued to the site and not whether the site is configured on port 80 or port 443.">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"><meta name="twitter:title" content="">
<meta name="twitter:description" content="ExcerptLink to headingthisisunsafe is a way to bypass security errors on chrome. In this article I will discuss about its usage and implications.
SSL WarningsLink to headingMajor browsers present you with a warning when you try to visit an insecure site. Even if the site is served with the secure url https://, the security depends on the certificate issued to the site and not whether the site is configured on port 80 or port 443.">

<meta property="og:url" content="//localhost:1313/posts/this-is-unsafe/this-is-unsafe/">
  <meta property="og:site_name" content="johndoe">
  <meta property="og:title" content="johndoe">
  <meta property="og:description" content="ExcerptLink to headingthisisunsafe is a way to bypass security errors on chrome. In this article I will discuss about its usage and implications.
SSL WarningsLink to headingMajor browsers present you with a warning when you try to visit an insecure site. Even if the site is served with the secure url https://, the security depends on the certificate issued to the site and not whether the site is configured on port 80 or port 443.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">




<link rel="canonical" href="//localhost:1313/posts/this-is-unsafe/this-is-unsafe/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="//localhost:1313/">
      johndoe
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/amt8u/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact me</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/pt-br/">ðŸ‡§ðŸ‡·</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="//localhost:1313/posts/this-is-unsafe/this-is-unsafe/">
              
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="0001-01-01T00:00:00Z">
                January 1, 0001
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              6-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <h1 id="excerpt">
  Excerpt
  <a class="heading-link" href="#excerpt">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>thisisunsafe is a way to bypass security errors on chrome. In this article I will discuss about its usage and implications.</p>
<h1 id="ssl-warnings">
  SSL Warnings
  <a class="heading-link" href="#ssl-warnings">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Major browsers present you with a warning when you try to visit an insecure site. Even if the site is served with the secure url <code>https://</code>, the security depends on the certificate issued to the site and not whether the site is configured on port 80 or port 443.</p>
<p><img alt="Firefox Warning" src="./images/this-is-unsafe/firefox-warning.png"></p>
<p><img alt="Chrome Warning" src="./images/this-is-unsafe/chrome-warning.png"></p>
<p>There can be hundreds of reasons where your certificate goes invalid. For eg.</p>
<ul>
<li><strong>Certificate expired</strong> - Generally all SSL certificates have a expiry date even if you have purchased them. In most paid systems, they auto-renew while in free services you might need to manually renew them. Until then your visitors will receive a warning that your site is not secure.</li>
<li><strong>Insecure links</strong> - Even if you have a properly working certificate for your site, some links on the site(images etc.) might not be using the <code>https://</code> scheme which in turn will make your site insecure.</li>
<li><strong>Unknown Certificate Authority</strong> - These are the organisations which have already setup their network. Browsers are aware of them even before you install them. If you configure your own CA, maybe for a local network in an organisation, browsers would not rely on you, so they will still give SSL errors even if the ceritificate is configured properly.</li>
</ul>
<h1 id="thisisunsafe---bad-idea">
  thisisunsafe - bad idea?
  <a class="heading-link" href="#thisisunsafe---bad-idea">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>As you can see, these are just warnings. Some browsers will let you go through after clicking on the <code>Accept and Continue</code> button. In some situations Chrome doesn&rsquo;t even present you with a <code>Continue</code> button. For those circumstances though, there is a bypass available. You can just type in <code>thisisunsafe</code> anywhere on the window and the browser will let you visit the page.</p>
<p>The bypass adds an exception for that particular domain to chrome&rsquo;s internal memory. You can remove the exception by clicking on the padlock icon and <strong>Re-enable Warnings</strong> link. Same is true with Firefox albeit with slight change in the UI etc.</p>
<p>The bypass has been put deliberately by the chrome dev team just for testing purposes. This can be seen in the code as well inside <a href="https://chromium.googlesource.com/chromium/src/&#43;/master/components/security_interstitials/core/browser/resources/interstitial_large.js"  class="external-link" target="_blank" rel="noopener">handleKeypress()</a> function.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * This allows errors to be skippped by typing a secret phrase into the page.
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param {string} e The key that was just pressed.
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">handleKeypress</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// HTTPS errors are serious and should not be ignored. For testing purposes,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// other approaches are both safer and have fewer side-effects.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// See https://goo.gl/ZcZixP for more details.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">BYPASS_SEQUENCE</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">atob</span><span class="p">(</span><span class="s1">&#39;dGhpc2lzdW5zYWZl&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">BYPASS_SEQUENCE</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">keyPressState</span><span class="p">)</span> <span class="o">===</span> <span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">keyPressState</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">keyPressState</span> <span class="o">===</span> <span class="nx">BYPASS_SEQUENCE</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sendCommand</span><span class="p">(</span><span class="nx">SecurityInterstitialCommandId</span><span class="p">.</span><span class="nx">CMD_PROCEED</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">keyPressState</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">keyPressState</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>You can see that the keyword is put as a base64 encoded string. <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/atob"  class="external-link" target="_blank" rel="noopener"><code>window.atob()</code></a> converts it to ASCII. If you are curious, there is a function <code>window.btoa()</code> that converts ASCII to base64.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">atob</span><span class="p">(</span><span class="s1">&#39;dGhpc2lzdW5zYWZl&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="s2">&#34;thisisunsafe&#34;</span>
</span></span></code></pre></div><p>Earlier this bypass keyword was used to be <code>badidea</code>, but they updated it as its been taken as a method of abuse. This is noted in the <a href="https://chromium.googlesource.com/chromium/src/&#43;/d8fc089b62cd4f8d907acff6fb3f5ff58f168697"  class="external-link" target="_blank" rel="noopener">commit here</a>.</p>
<pre tabindex="0"><code>Rotate the interstitial bypass keyword

The security interstitial bypass keyword hasn&#39;t changed in two years and
awareness of the bypass has been increased in blogs and social media.
Rotate the keyword to help prevent misuse.

Bug: 797344
Change-Id: I76213b05cc0fe8f23882123d0aeef668652dd89d
Reviewed-on: https://chromium-review.googlesource.com/860418
Reviewed-by: Adrienne Porter Felt &lt;felt@chromium.org&gt;
Commit-Queue: Eric Lawrence &lt;elawrence@chromium.org&gt;
Cr-Commit-Position: refs/heads/master@{#528371}
</code></pre><p>Here is the <a href="https://stackoverflow.com/questions/35274659/when-you-use-badidea-or-thisisunsafe-to-bypass-a-chrome-certificate-hsts-err/35275060#35275060"  class="external-link" target="_blank" rel="noopener">stackoverflow answer</a> by <a href="https://stackoverflow.com/users/2144578/barry-pollard"  class="external-link" target="_blank" rel="noopener">Barry</a> from where I picked up the above info.</p>
<p>The author also suggested to setup certificates properly instead of using the bypass everytime. He also mentioned about a bug where caching does not work properly with SSL errors. While caching issues can be dealt with but SSL errors needs to be taken seriously.</p>
<p>Though you have the bypass available but that doesn&rsquo;t mean you start abusing it. If you are doing testing on your own sites, then its probably fine but applying this workaround on every other site is not a good idea.</p>
<h1 id="testing-local-sites">
  Testing local sites
  <a class="heading-link" href="#testing-local-sites">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>Chromium project has a <a href="https://www.chromium.org/Home/chromium-security/deprecating-powerful-features-on-insecure-origins#TOC-Testing-Powerful-Features"  class="external-link" target="_blank" rel="noopener">page</a> which suggests alternatives to test features which require secure origins.</p>
<p>Here is a snapshot from the page for testing secure origins witthout a commercial CA.</p>
<ol>
<li>
<p>Secure the server with a publicly-trusted certificate. If the server is reachable from the Internet, several public CAs offer free, automatically-renewed server certificates.</p>
</li>
<li>
<p>http://localhost is treated as a secure origin, so if you&rsquo;re able to run your server from localhost, you should be able to test the feature on that server.</p>
</li>
<li>
<p>You can use chrome://flags/#unsafely-treat-insecure-origin-as-secure to run Chrome, or use the &ndash;unsafely-treat-insecure-origin-as-secure=&ldquo;<a href="http://example.com"  class="external-link" target="_blank" rel="noopener">http://example.com</a>&rdquo; flag (replacing &ldquo;example.com&rdquo; with the origin you actually want to test), which will treat that origin as secure for this session. Note that on Android and ChromeOS the command-line flag requires having a device with root access/dev mode.</p>
</li>
<li>
<p>Create a self-signed certificate for temporary testing. Direct use of such a certificate requires clicking through an invalid certificate interstitial, which is otherwise not recommended. Note that because of this interstitial click-through (which also prevents HTTPS-response caching), we recommend options (1) and (2) instead, but they are difficult to do on mobile. See this post on setting up a self-signed certificate for a server for more information on how to do this.</p>
</li>
<li>
<p>An alternative approach is to generate a self-signed root certificate which you place into the trust store of the developer PC/devices, and then issue one or more certificates for the test servers. Trusting the root certificate means that Chrome will treat the site as secure and load it without interstitials or impacting caching. One easy way of setting up and using a custom root certificate is to use the open source mkcert tool.</p>
</li>
</ol>
<p>On a local network, you can test on your Android device using port forwarding to access a remote host as localhost.</p>
<!-- raw HTML omitted -->
<p>As a side note the warning screens that block you from visiting the pages are called <code>interstitials</code>. And the template for this is present in chromium <a href="https://chromium.googlesource.com/chromium/src/&#43;/master/components/security_interstitials/core/browser/resources/interstitial_large.html"  class="external-link" target="_blank" rel="noopener">code</a>.</p>
<p><strong>Update on 26 feb 2021</strong></p>
<p>There is a small procedure which can be performed to remediate the certificate issue for self signed certificates on local system. You can import the certificate into your CA keychain which will make the certificate valid across browsers.</p>
<p>Follow the <a href="https://www.nullalo.com/en/chrome-how-to-install-self-signed-ssl-certificates/"  class="external-link" target="_blank" rel="noopener">instructions here</a>.</p>
<p>Once done, the browser will accept the connection as secure and you will no longer get SSL warning interstitials. Do note that you might need to do this for every domain.</p>
<blockquote>
<p>End</p>
</blockquote>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    Â©
    
      2019 -
    
    2024
     amt8u 
    Â·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
